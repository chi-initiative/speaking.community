<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Community Development Organization Subjects</title>
	<link rel="stylesheet" href="master.css">

	<script src="d3.v2.min.js"></script>
	<script src="build/xcharts.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>

<body>

<figure  id="myChart" style='height:500px'></figure>

<script>

var tt = document.createElement('div'),
  leftOffset = -(~~$('html').css('padding-left').replace('px', '') + ~~$('body').css('margin-left').replace('px', '')),
  topOffset = -32;
tt.className = 'ex-tooltip';
document.body.appendChild(tt);

var data = {
      "xScale": "ordinal",
      "yScale": "linear",
      
      "main": [
        {
          "className": ".Subjects",
          "data": [
            {
              "x": "Arts",
              "y": 2

            },
            {
              "x": "Beautification",
              "y": 37
            },
			{
              "x": "Business",
              "y": 29
            },
			{
              "x": "City Services",
              "y": 12
            },
			{
              "x": "Civic Engagement",
              "y": 7
            },
			{
              "x": "Education",
              "y": 35
            },
			
			{
              "x": "Environmental Social Justice",
              "y": 17
            },
			
			{
              "x": "Families",
              "y": 3
            },
			
			{
              "x": "Food",
              "y": 17
            },
			
			{
              "x": "Health",
              "y": 7
            },
			
			{
              "x": "Homelessness",
              "y": 6
            },
			
			{
              "x": "Housing",
              "y": 36
            },
			
			{
              "x": "Investment",
              "y": 16
            },
			
			{
              "x": "Job & Life Skills",
              "y": 13
            },
			
			{
              "x": "Legal Assistance",
              "y": 3
            },
			
			{
              "x": "Public Safety",
              "y": 13
            },
			
			{
              "x": "Rehabilitation",
              "y": 6
            },
			
			{
              "x": "Seniors",
              "y": 2
            },
			
			{
              "x": "Sustainability",
              "y": 32
            },
			
			{
              "x": "Transportation",
              "y": 6
            },
			
			{
              "x": "Urban Farming",
              "y": 19
            },
			
			{
              "x": "Youth",
              "y": 21
            }
          ]
        }
      ]

    };
    var opts = {
  "mouseover": function (d, i) {
    var pos = $(this).offset();
    $(tt).text(d3.time.format('%A')(d.x) + 'Subject: ' + d.y)
      .css({top: topOffset + pos.top, left: pos.left + leftOffset})
      .show();
  },
  "mouseout": function (x) {
    $(tt).hide();
  }
  };
   var MyChart = new xChart('line-dotted', data, '#myChart', opts);
  </script>
</body>
</html>
